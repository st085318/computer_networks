# Wireshark: DHCP. Ð”Ð¾Ð¼Ð°ÑˆÐºÐ°

![](./images/client.png)

1. ÐŸÐ¾Ð²ÐµÑ€Ñ… ÐºÐ°ÐºÐ¾Ð³Ð¾ Ð¿Ñ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð»Ð° Ð¿Ð¾ÑÑ‹Ð»Ð°ÑŽÑ‚ÑÑ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ DHCP â€“ UDP Ð¸Ð»Ð¸ TCP?
    > UDP

2. ÐšÐ°ÐºÐ¾Ð² Ð°Ð´Ñ€ÐµÑ ÐºÐ°Ð½Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ ÑƒÑ€Ð¾Ð²Ð½Ñ (Ñ‚.Ðµ., Ethernet-Ð°Ð´Ñ€ÐµÑ) Ñƒ Ð²Ð°ÑˆÐµÐ³Ð¾ Ñ…Ð¾ÑÑ‚Ð°?
    > d4:d2:52:b9:66:c1

3. ÐšÐ°ÐºÐ¾Ð²Ñ‹ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Transaction-ID Ð² Ð½Ð°Ð±Ð¾Ñ€Ðµ (Request/ACK) DHCP-ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹? ÐžÐ¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð»Ñ Transaction-ID.
    > Transaction-ID: 0xddfd8e35. ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ñ‡Ñ‚Ð¾ Ð¾Ñ‚Ð½Ð¾ÑÐ¸Ñ‚ÑÑ Ðº ÐºÐ°ÐºÐ¾Ð¼Ñƒ DHCP Ð·Ð°Ð¿Ñ€Ð¾ÑÑƒ

4. Ð¥Ð¾ÑÑ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ DHCP-Ð¿Ñ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð», Ð² Ñ‡Ð°ÑÑ‚Ð½Ð¾ÑÑ‚Ð¸, Ð´Ð»Ñ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ IP-Ð°Ð´Ñ€ÐµÑÐ°. ÐÐ¾ IP-Ð°Ð´Ñ€ÐµÑ Ñ…Ð¾ÑÑ‚Ð° Ð¾ÑÑ‚Ð°ÐµÑ‚ÑÑ Ð½ÐµÐ¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð½Ñ‹Ð¼ Ð´Ð¾ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ Ð¾Ð±Ð¼ÐµÐ½Ð° DHCP ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸ÑÐ¼Ð¸. Ð•ÑÐ»Ð¸ IP-Ð°Ð´Ñ€ÐµÑ Ð½Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½ Ð´Ð¾ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ Ð¾Ð±Ð¼ÐµÐ½Ð° ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸ÑÐ¼Ð¸, Ñ‚Ð¾ ÐºÐ°ÐºÐ¸Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ Ð² IPÐ´ÐµÐ¹Ñ‚Ð°Ð³Ñ€Ð°Ð¼Ð¼Ð°Ñ… Ð¿Ñ€Ð¸ Ð¾Ð±Ð¼ÐµÐ½Ðµ ÑÑ‚Ð¸Ð¼Ð¸ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸ÑÐ¼Ð¸? Ð£ÐºÐ°Ð¶Ð¸Ñ‚Ðµ Ð¸ÑÑ…Ð¾Ð´Ð½Ñ‹Ð¹ Ð¸ ÐºÐ¾Ð½ÐµÑ‡Ð½Ñ‹Ð¹ IP-Ð°Ð´Ñ€ÐµÑÐ°, Ð¿ÐµÑ€ÐµÐ´Ð°Ð²Ð°ÐµÐ¼Ñ‹Ðµ Ð² Ð¸Ð½ÐºÐ°Ð¿ÑÑƒÐ»Ð¸Ñ€ÑƒÑŽÑ‰ÐµÐ¹ IP-Ð´ÐµÐ¹Ñ‚Ð°Ð³Ñ€Ð°Ð¼Ð¼Ðµ DHCP ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹
    >  Ð¸ÑÑ…Ð¾Ð´Ð½Ñ‹Ð¹: 0.0.0.0, Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÑŽÑ‰Ð¸Ð¹: 255.255.255.255.

![](./images/client.png)
5. ÐšÐ°ÐºÐ¾Ð² IP-Ð°Ð´Ñ€ÐµÑ Ð²Ð°ÑˆÐµÐ³Ð¾ DHCP-ÑÐµÑ€Ð²ÐµÑ€Ð°?
    > 192.168.0.1

6. ÐžÐ±ÑŠÑÑÐ½Ð¸Ñ‚Ðµ Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ ÑÑ€Ð¾ÐºÐ° Ð°Ñ€ÐµÐ½Ð´Ñ‹ IP-Ð°Ð´Ñ€ÐµÑÐ°. ÐšÐ°ÐºÐ¾Ð²Ð° Ð´Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ ÑÑ€Ð¾ÐºÐ° Ð°Ñ€ÐµÐ½Ð´Ñ‹ Ð² Ð²Ð°ÑˆÐµÐ¼ ÑÐºÑÐ¿ÐµÑ€Ð¸Ð¼ÐµÐ½Ñ‚Ðµ?
    > Ð•ÑÐ»Ð¸ ÑÑ€Ð¾Ðº Ð½Ðµ Ð±ÑƒÐ´ÐµÑ‚ Ð¿Ñ€Ð¾Ð´Ð»ÐµÐ½, Ñ‚Ð¾ Ð¿Ð¾ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸ÑŽ Ð´Ð°Ð½Ð¾Ð³Ð¾ Ð¿ÐµÑ€Ð¸Ð¾Ð´Ð° ip Ð°Ð´Ñ€ÐµÑ Ð¾ÑÐ¾Ð±Ð¾Ð´Ð¸Ñ‚ÑÑ. Ð’ Ð¼Ð¾ÐµÐ¼ ÑÐ»ÑƒÑ‡Ð°Ðµ ÑÑ‚Ð¾ 2 Ñ‡Ð°ÑÐ°


# Ð—Ð°Ð´Ð°Ñ‡Ð¸ 

## Ð—Ð°Ð´Ð°Ñ‡Ð° 1

Ð’Ñ‹Ð²Ð¾Ð´ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸ Ð´Ð¸ÑÐºÑ€ÐµÑ‚Ð½Ð¾Ð³Ð¾ Ð¿Ñ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð»Ð° ALOHA.
1. ÐŸÑ€Ð¸ Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ð¸ N Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ñ… ÑƒÐ·Ð»Ð¾Ð² ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ Ð´Ð¸ÑÐºÑ€ÐµÑ‚Ð½Ð¾Ð³Ð¾ Ð¿Ñ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð»Ð° ALOHA Ñ€Ð°Ð²Ð½Ð° ð‘ð‘(1â€“ð‘)^(N1)ÐÐ°Ð¹Ð´Ð¸Ñ‚Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ p,Ð¼Ð°ÐºÑÐ¸Ð¼Ð¸Ð·Ð¸Ñ€ÑƒÑŽÑ‰ÐµÐµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ ÑÑ‚Ð¾Ð³Ð¾ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ.
    > $(Np(1-p)^{N-1})'_p = N((1-p)^{N-1} - (N-1)p(1-p)^{N-2}) = N(1-p)^{N-2}(1 - p - Np + p) = N(1-p)^{N-2}(1-Np)$
    > $N(1-p)^{N-2}(1-Np) = 0$ Ð¸Ð¼ÐµÐµÑ‚ 2 Ñ€ÐµÑˆÐµÐ½Ð¸Ñ: $p_1 = \frac{1}{N}, p_2 = 1$. Ð—Ð°Ð¼ÐµÑ‚Ð¸Ð¼, Ñ‡Ñ‚Ð¾ Ð¼Ð°ÐºÑÐ¸Ð¼ÑƒÐ¼ Ð´Ð¾ÑÑ‚Ð¸Ð³Ð°ÐµÑ‚ÑÑ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ñ€Ð¸ $p = \frac{1}{N}$

2. Ð’Ð¾ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð²ÑˆÐ¸ÑÑŒ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÐµÐ¼ p, Ð½Ð°Ð¹Ð´ÐµÐ½Ð½Ñ‹Ð¼ Ð² Ð¿ÑƒÐ½ÐºÑ‚Ðµ (a), Ð½Ð°Ð¹Ð´Ð¸Ñ‚Ðµ ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ Ð´Ð¸ÑÐºÑ€ÐµÑ‚Ð½Ð¾Ð³Ð¾ Ð¿Ñ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð»Ð° ALOHA, ÐºÐ¾Ð³Ð´Ð° N ÑÑ‚Ñ€ÐµÐ¼Ð¸Ñ‚ÑÑ Ðº Ð±ÐµÑÐºÐ¾Ð½ÐµÑ‡Ð½Ð¾ÑÑ‚Ð¸.
    > $\lim_{N\to\infty} N\frac{1}{N}(1-\frac{1}{N})^{N-1} = \lim_{N\to\infty} (1 - \frac{1}{N})^{N} \frac{1}{1 - \frac{1}{N}} =  \rightarrow \frac{1}{\exp}$